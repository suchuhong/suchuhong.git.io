<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>贝叶斯滤波公式推导 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="随机过程建模状态方程观测方程">
<meta property="og:type" content="article">
<meta property="og:title" content="贝叶斯滤波公式推导">
<meta property="og:url" content="http://yoursite.com/2020/06/22/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="随机过程建模状态方程观测方程">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-06-22T06:26:37.991Z">
<meta property="article:modified_time" content="2020-04-24T15:52:13.600Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-贝叶斯滤波公式推导" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/22/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC/" class="article-date">
  <time datetime="2020-06-22T06:26:37.991Z" itemprop="datePublished">2020-06-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      贝叶斯滤波公式推导
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="随机过程"><a href="#随机过程" class="headerlink" title="随机过程"></a>随机过程</h2><h2 id="建模"><a href="#建模" class="headerlink" title="建模"></a>建模</h2><h4 id="状态方程"><a href="#状态方程" class="headerlink" title="状态方程"></a>状态方程</h4><h4 id="观测方程"><a href="#观测方程" class="headerlink" title="观测方程"></a>观测方程</h4><a id="more"></a>

<h2 id="贝叶斯滤波算法"><a href="#贝叶斯滤波算法" class="headerlink" title="贝叶斯滤波算法"></a>贝叶斯滤波算法</h2><p>$$<br>\left{\begin{array}{l}<br>X_{k}=f\left(X_{k-1}\right)+Q_{k} \<br>Y_{k}=h\left(X_{k}\right)+R_{k}<br>\end{array}\right.<br>$$</p>
<p>$$<br>\text{其中}: X_{k}, X_{k-1}, Y_{k}, Q_{k}, R_{k} \text { 都是随机变量 }<br>$$</p>
<p>$$<br>\text { 假设 }X_{0}, Q_{1}, \cdots ,Q_{k}, R_{1}, \cdots ,R_{k} \text { 相互独立 }<br>$$</p>
<p>$$<br>\text { 有观测值 } \quad y_{1}, y_{2}, \ldots ,y_{k}<br>$$</p>
<p>$$<br>\text { 设初值 } X_{0}\quad   pdf \quad f_{0}(x)\quad Q_{k} \quad pdf \quad f_{Q_{k}}(x) \quad R_{k} \quad p d f \quad f_{R_{k}}(x)<br>$$</p>
<h4 id="重要定理：条件概率里的条件可以做逻辑推导"><a href="#重要定理：条件概率里的条件可以做逻辑推导" class="headerlink" title="重要定理：条件概率里的条件可以做逻辑推导"></a>重要定理：条件概率里的条件可以做逻辑推导</h4><p>$$<br>\begin{aligned}<br>P(x=1 | Y=2, z=3) &amp;=P(x+Y=3 | Y=2, Z=3)=P(X+Y=3 | Y=2, Z-Y=1) \<br>&amp; \neq P(X+Y=3 | Z=3) \quad \neq P(X=1 | X+Y = 3, Z=3)<br>\end{aligned}<br>$$</p>
<h6 id="预测步"><a href="#预测步" class="headerlink" title="预测步"></a>预测步</h6><p>$$<br>P\left(X_{1}&lt;x\right)=\sum_{u=-\infty}^{x} P\left(X_{1}=u\right)<br>$$</p>
<p>$$<br>P\left(X_{1}=u\right)=\sum_{v=\infty}^{+\infty} P\left(X_{1}=u | X_{0}=v\right) P\left(X_{0}=v\right)\left( \text { 全概率公式 } \right)<br>$$</p>
<p>$$<br>\begin{aligned}<br>P\left(X_{1}=u\right) &amp;=\sum_{v=-\infty}^{+\infty} P\left(X_{1}-f\left(x_{0}\right)=u-f(v) | X_{0}=v\right)  P\left(X_{0}=v\right) \<br>&amp;=\sum_{v=-\infty}^{+\infty} P\left(Q_{1}=u-f(v) | X_{0}=v\right) P\left(X_{0}=v\right) \quad<br>\left ( \text { 证明 }Q_{1}\text { 与 }X_{k-1}\text { 相互独立 } \right)<br>\<br>&amp;=\sum_{v=-\infty}^{+\infty} P\left(Q_{1}=u-f(v)\right) P\left(X_{0}=v\right) \<br>&amp;=\lim <em>{\varepsilon \rightarrow 0} \sum</em>{v=-\infty}^{+\infty} f_{Q_{1}}[u-f(v)] \cdot \varepsilon \cdot f_{0}(v) \cdot \varepsilon\quad(概率化成概率密度与一个很小的数相乘)<br>\<br>&amp;=\lim <em>{\varepsilon \rightarrow 0} \int</em>{-\infty}^{+\infty} f_{Q_{1}}[u-f(v)] f_{0}(v) d v \cdot \varepsilon<br>\end{aligned}<br>$$</p>
<p>$$<br>\begin{aligned}<br>&amp;\therefore P\left(X_{1}&lt;x\right)=\sum_{u=-\infty}^{x} P\left(X_{1}=u\right)=\sum_{u=-\infty}^{x} \lim <em>{\varepsilon \rightarrow 0} \int</em>{-\infty}^{+\infty} f_{Q_{1}}[u-f(v)] f_{0}(v) d v\<br>&amp;\begin{aligned}<br>&amp;=\int_{-\infty}^{x} \int_{-\infty}^{+\infty} f_{Q_{1}}[u-f(v)] f_{0}(v) d v d u \<br>\therefore f_{1}^{-}(x)=\frac{d}{d x}P\left(X_{1}&lt;x\right) &amp;=\int_{-\infty}^{+\infty} f_{Q_{1}}[x-f(v)] f_{0}(v) d v<br>\end{aligned}<br>\end{aligned}<br>$$</p>
<h6 id="更新步"><a href="#更新步" class="headerlink" title="更新步"></a>更新步</h6><p>观测Y1=y1</p>
<p>似然概率<br>$$<br>\begin{aligned}<br>f_{Y_{1} |X_{1}}(y_{1} | x) &amp;=\lim <em>{\varepsilon \rightarrow 0}  \frac{P(y</em>{1}&lt;Y_{1}&lt;y_{1}+\varepsilon | X_{1}=x) }{\varepsilon} \<br>&amp;=\lim <em>{\varepsilon \rightarrow 0}  \frac{P(y</em>{1}-h(x)&lt;Y_{1}-h(X_{1})&lt;y_{1}-h(x)+\varepsilon | X_{1}=x) }{\varepsilon}<br>\<br>&amp;=\lim <em>{\varepsilon \rightarrow 0}  \frac{P(y</em>{1}-h(x)&lt;R_{1}&lt;y_{1}-h(x)+\varepsilon | X_{1}=x) }{\varepsilon} \quad<br>\left ( \text { 证明 }R_{k}\text { 与 }X_{k}\text { 相互独立 } \right)\<br>&amp;=\lim <em>{\varepsilon \rightarrow 0}  \frac{P(y</em>{1}-h(x)&lt;R_{1}&lt;y_{1}-h(x)+\varepsilon)  }{\varepsilon}<br>\<br>&amp;=f_{R_{1}}[y_{1}-h(x)]\quad<br>\left( \text { 积分中值定理 } \right)<br>\end{aligned}<br>$$</p>
<p>$$<br>\therefore \left. { f _ { 1 } ^ { + } ( x ) = \eta \cdot f _ { R_{1} } [ y _ { 1 } - h ( x ) ] \cdot f _ { 1 } ^ { - } ( x ) }\<br>{ \eta = ( \int _ { - \infty } ^ { + \infty } f _ { R_{1} } [ y _ { 1 } - h ( x ) ] \cdot f _ { 1 } ^ { - } ( x ) d x ) ^ { - 1 } } \right.<br>$$</p>
<h5 id="递推法"><a href="#递推法" class="headerlink" title="递推法"></a>递推法</h5><p>$$<br>f _ { 0 } ( x ) \rightarrow f _ { 1 } ^ { - } ( x ) = \int_{-\infty}^{+\infty} f_{Q_{1}}[x-f(v)] f_{0}(v) d v \rightarrow f _ { 1 } ^ { + } ( x ) = \eta_{1} \cdot f _ { R_{1} } [ y _ { 1 } - h ( x ) ] \cdot f _ { 1 } ^ { - } ( x )<br>$$</p>
<p>$$<br>\rightarrow f _ { 2 } ^ { - } ( x ) = \int_{-\infty}^{+\infty} f_{Q_{2}}[x-f(v)] f_{1}  ^ { + } (v) d v \rightarrow f _ { 2 } ^ { + } ( x ) = \eta_{2} \cdot f _ { R_{2} } [ y _ { 2 } - h ( x ) ] \cdot f _ { 2 } ^ { - } ( x ) \rightarrow \cdots<br>$$</p>
<h2 id="符号总结"><a href="#符号总结" class="headerlink" title="符号总结"></a>符号总结</h2><p>$$<br>f  \rightarrow X_{k}=f\left(X_{k-1}\right)+Q_{k} \quad f_{0}(x)  \rightarrow \text{初始pdf}<br>$$</p>
<p>$$<br>f_{1}^{-}  \quad f_{2}^{-} \rightarrow \text {预测步pdf  先验}\<br>f_{1}^{+}  \quad f_{2}^{+} \rightarrow \text {更新步pdf  后验}\<br>f_{Q_{k}} \quad f_{R_{k}}  \rightarrow \text {预测与观测噪声pdf }<br>$$</p>
<h5 id="证明Qk与Xk-1独立-Xk与Rk独立"><a href="#证明Qk与Xk-1独立-Xk与Rk独立" class="headerlink" title="证明Qk与Xk-1独立,Xk与Rk独立"></a>证明Qk与Xk-1独立,Xk与Rk独立</h5><p>$$<br>X _ { k - 1 } = f ( x _ { k-1 }  ) + Q _ { k - 1 } = F ( X _ { k - 2 } , Q _ { k - 1 } )<br>$$</p>
<p>$$<br>X _ { k - 2 } = F_{1}( X _ { k - 3 } , Q _ { k - 2 } )<br>$$</p>
<p>$$<br>\cdots<br>$$</p>
<p>$$<br>X _ { 1 } = F_{k-1}( X _ { 0 } , Q _ { 1 } )<br>$$</p>
<p>$$<br>\therefore X _ { k } = F( X _ { 0 } , Q _ { 1 } , Q _ { 2 } , \cdots , Q _ { k } )\<br>X _ { k - 1 } = F( X _ { 0 } , Q _ { 1 } , Q _ { 2 } , \cdots , Q _ { k - 1 } )<br>$$</p>
<p>$$<br>\because X_{0}, Q_{1}, \cdots ,Q_{k}, R_{1}, \cdots ,R_{k} \text { 相互独立 }<br>$$</p>
<p>$$<br>\therefore X _ { k } = F( X _ { 0 } , Q _ { 1 } , Q _ { 2 } , \cdots , Q _ { k } ) \text {与} R_{k} \text{相互独立}\<br>X _ { k - 1 } = F( X _ { 0 } , Q _ { 1 } , Q _ { 2 } , \cdots , Q _ { k - 1 } ) \text {与} Q_{k} \text{相互独立}<br>$$</p>
<h3 id="完整算法"><a href="#完整算法" class="headerlink" title="完整算法"></a>完整算法</h3><p>$$<br>\text { 设初值 } \quad X_{0} \quad pdf \quad f_{0}(x)<br>$$</p>
<p>$$<br>\text {预测步} \quad f_{k}^{-}(x) =\int_{-\infty}^{+\infty} f_{Q_{k}}[x-f(v)] f_{k-1}^{+}(v) d v<br>$$</p>
<p>$$<br>\text {更新步} \quad f_{k}^{+}(x) =   \eta \cdot f _ { R_{k} } [ y _ { k } - h ( x ) ] \cdot f _ { k} ^ { - } ( x ) \<br>{ \eta = ( \int _ { - \infty } ^ { + \infty } f _ { R_{k} } [ y _ { k } - h ( x ) ] \cdot f _ { k } ^ { - } ( x ) d x ) ^ { - 1 } }<br>$$</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/06/22/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%AF%BC/" data-id="ckbq4y0c7000ha4sh4n88gtpc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/06/22/%E7%AC%94%E8%AE%B0%E8%AF%A6%E6%83%851/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          笔记详情1
        
      </div>
    </a>
  
  
    <a href="/2020/06/22/%E8%B4%9D%E5%8F%B6%E6%96%AF%E6%BB%A4%E6%B3%A2/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">贝叶斯滤波</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/06/22/%E9%A1%B9%E7%9B%AE1/">项目1</a>
          </li>
        
          <li>
            <a href="/2020/06/22/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%951/">数据结构与算法1</a>
          </li>
        
          <li>
            <a href="/2020/06/22/%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2%E5%9B%BE%E7%89%87/">卡尔曼滤波图片</a>
          </li>
        
          <li>
            <a href="/2020/06/22/%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2%E4%BB%A3%E7%A0%81/">卡尔曼滤波代码</a>
          </li>
        
          <li>
            <a href="/2020/06/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C2/">计算机网络2</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>